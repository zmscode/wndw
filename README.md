# wndw

A small Zig wrapper around [RGFW](https://github.com/ColleagueRiley/RGFW), packaged for `zig fetch` usage.

## Design

- Zig API is in a single file: `src/root.zig`
- RGFW C header is vendored at `vendor/rgfw/RGFW.h`
- RGFW implementation unit is generated by `build.zig` (STB-style integration)

## Install

```sh
zig fetch --save=wndw git+https://github.com/zmscode/wndw.git
```

## Use in build.zig

```zig
const wndw_dep = b.dependency("wndw", .{
    .target = target,
    .optimize = optimize,

    // Optional RGFW toggles:
    // .rgfw_debug = false,
    // .rgfw_opengl = false,
    // .rgfw_native = false,
});

exe.root_module.addImport("wndw", wndw_dep.module("wndw"));
```

## Use in Zig code

```zig
const wndw = @import("wndw");

pub fn main() !void {
    const window = try wndw.init("wndw", 800, 600);
    defer window.close();

    window.setFlags(.{
        .centred = true,
        .resizable = false,
    });

    while (!window.shouldClose()) {
        window.poll();

        if (window.isKeyPressed(wndw.key.escape)) {
            window.setShouldClose(true);
        }

        if (window.isMousePressed(wndw.mouse.left)) {
            const mouse_pos = window.mousePosition();
            _ = mouse_pos;
        }

        var ev: wndw.Event = undefined;
        while (window.pollEvent(&ev)) {
            if (ev.type == wndw.quit) {
                window.setShouldClose(true);
            }
        }
    }
}
```

## Build options

- `-Drgfw_debug=true`
- `-Drgfw_opengl=true`
- `-Drgfw_native=true`

## Event types

`pollEvent` returns `wndw.Event` values with types such as:

- `RGFW_keyPressed`, `RGFW_keyReleased`, `RGFW_keyChar`
- `RGFW_mouseButtonPressed`, `RGFW_mouseButtonReleased`, `RGFW_mouseScroll`, `RGFW_mousePosChanged`
- `RGFW_windowMoved`, `RGFW_windowResized`, `RGFW_windowRefresh`
- `RGFW_focusIn`, `RGFW_focusOut`, `RGFW_mouseEnter`, `RGFW_mouseLeave`
- `RGFW_quit`, `RGFW_dataDrop`, `RGFW_dataDrag`
- `RGFW_windowMaximized`, `RGFW_windowMinimized`, `RGFW_windowRestored`
- `RGFW_scaleUpdated`, `RGFW_monitorConnected`, `RGFW_monitorDisconnected`

## Local checks

```sh
zig build
zig build test
```
